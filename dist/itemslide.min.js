/* ItemSlide.js - Licensed under the MIT license - itemslide.org/license.html */  
(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){(function(global){(function(){var Animations=function(carousel){var _this=this,vars=carousel.vars,options=carousel.options,slides=carousel.$el;var total_duration,total_back,currentPos,startTime;_this.gotoSlideByIndex=function(i,without_animation){var isBoundary;if(i>=slides.children().length-1||i<=0){isBoundary=true;i=Math.min(Math.max(i,0),slides.children().length-1)}else{isBoundary=false}changeActiveSlideTo(i);total_duration=Math.max(options.duration-1920/$(window).width()*Math.abs(vars.velocity)*9*(options.duration/230)-(_this.isOutBoundaries()?vars.distanceFromStart/15:0)*(options.duration/230),50);total_back=isBoundary?Math.abs(vars.velocity)*250/$(window).width():0;currentPos=slides.translate3d().x;_this.currentLandPos=getPositionByIndex(i);if(without_animation){slides.translate3d(getPositionByIndex(i));return}window.cancelAnimationFrame(_this.slidesGlobalID);startTime=Date.now();_this.slidesGlobalID=window.requestAnimationFrame(animationRepeat)};_this.getLandingSlideIndex=function(x){for(var i=0;i<slides.children().length;i++){if(carousel.getSlidesWidth(false,i)+slides.children().eq(i).outerWidth(true)/2-slides.children().eq(i).outerWidth(true)*options.pan_threshold*vars.direction-getPositionByIndex(0)>x){if(!options.one_item)return i;else{if(i!=vars.currentIndex)return vars.currentIndex+vars.direction;else return vars.currentIndex}}}return options.one_item?vars.currentIndex+1:slides.children().length-1};_this.isOutBoundaries=function(){return Math.floor(slides.translate3d().x)>getPositionByIndex(0)&&vars.direction==-1||Math.ceil(slides.translate3d().x)<getPositionByIndex(slides.children().length-1)&&vars.direction==1};function changeActiveSlideTo(i){slides.children(":nth-child("+(vars.currentIndex+1||0)+")").removeClass("itemslide-active");slides.children(":nth-child("+(i+1||0)+")").addClass("itemslide-active");if(i!=options.currentIndex){vars.currentIndex=i;slides.trigger("changeActiveIndex")}}function getPositionByIndex(i){return-(carousel.getSlidesWidth(false,i)-(slides.parent().outerWidth(true)-slides.children().eq(i).outerWidth(true))/(options.left_sided?1:2))}function animationRepeat(){var currentTime=Date.now()-startTime;if(options.left_sided){_this.currentLandPos=clamp(-(vars.allSlidesWidth-slides.parent().width()),0,_this.currentLandPos)}slides.trigger("changePos");slides.translate3d(currentPos-easeOutBack(currentTime,0,currentPos-_this.currentLandPos,total_duration,total_back));if(currentTime>=total_duration){slides.translate3d(_this.currentLandPos);return}_this.slidesGlobalID=requestAnimationFrame(animationRepeat)}};module.exports=Animations;global.matrixToArray=function(matrix){return matrix.substr(7,matrix.length-8).split(", ")};global.easeOutBack=function(t,b,c,d,s){if(s==undefined)s=1.70158;return c*((t=t/d-1)*t*((s+1)*t+s)+1)+b};$.fn.translate3d=function(x,y){if(x!=null){this.css("transform","translate3d("+x+"px"+","+(y||0)+"px, 0px)")}else{var matrix=matrixToArray(this.css("transform"));if($.fn.jquery!=null){return{x:isExplorer?parseFloat(matrix[12]):parseFloat(matrix[4]),y:isExplorer?parseFloat(matrix[13]):parseFloat(matrix[5])}}else{var vals=this.css("transform").replace("translate3d","").replace("(","").replace(")","").replace(" ","").replace("px","").split(",");return{x:parseFloat(vals[0]),y:parseFloat(vals[1])}}}};global.clamp=function(min,max,value){return Math.min(Math.max(value,min),max)};global.getCurrentTotalWidth=function(inSlides){var width=0;inSlides.children().each(function(){width+=$(this).outerWidth(true)});return width}}).call(this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],2:[function(require,module,exports){var Navigation=require("./navigation"),Animations=require("./animation"),slideout=require("./slideout"),mousewheel=require("./mousewheel");module.exports={create:function(options,element){var _this=this;_this.$el=element;_this.options=options;if(_this.options.parent_width){element.children().width(element.parent().outerWidth(true))}element.css({"user-select":"none"});_this.getSlidesWidth=(allSlides=true,maxIndex=0)=>{var totalWidth=0;if(allSlides){maxIndex=element.children("li").toArray().length}for(var i=0;i<maxIndex;i++){var item=element.children("li").toArray()[i];totalWidth+=item.offsetWidth+parseInt(getComputedStyle(item).marginLeft)+parseInt(getComputedStyle(item).marginRight)}return totalWidth};_this.adjustCarouselWidthIfNotDisabled=()=>{if(!_this.options.disable_autowidth){element.css("width",_this.getSlidesWidth()+10)}};_this.adjustCarouselWidthIfNotDisabled();_this.vars={currentIndex:0,parent_width:_this.options.parent_width,velocity:0,slideHeight:element.children().height(),direction:1,allSlidesWidth:getCurrentTotalWidth(element)};element.end_animation=true;if(_this.options.swipe_out){slideout.slideout(_this)}var anim=new Animations(_this);var nav=new Navigation(_this,anim);_this.anim=anim;_this.nav=nav;element.translate3d(0);anim.gotoSlideByIndex(parseInt(_this.options.start));if(!_this.options.disable_scroll){try{mousewheel.add(_this,anim,nav,element)}catch(e){}}}}},{"./animation":1,"./mousewheel":5,"./navigation":6,"./slideout":8}],3:[function(require,module,exports){module.exports={apply:function(slides,carousel,optionsMergedWithDefaults){slides.gotoSlide=function(i){carousel.anim.gotoSlideByIndex(i)};slides.nextSlide=function(){carousel.anim.gotoSlideByIndex(carousel.vars.currentIndex+1)};slides.previousSlide=function(){carousel.anim.gotoSlideByIndex(carousel.vars.currentIndex-1)};slides.reload=function(){var $el=carousel.$el;var vars=carousel.vars;if(vars.parent_width){$el.children().width($el.parent().outerWidth(true))}carousel.adjustCarouselWidthIfNotDisabled();vars.slideHeight=$el.children().height();vars.allSlidesWidth=getCurrentTotalWidth($el);vars.velocity=0;slides.gotoSlide(vars.currentIndex)};slides.addSlide=function(data){slides.append("<li>"+data+"</li>");carousel.nav.createEvents();slides.reload()};slides.removeSlide=function(index){carousel.$el.children(":nth-child("+(index+1||0)+")").remove();carousel.vars.allSlidesWidth=getCurrentTotalWidth(carousel.$el)};slides.getActiveIndex=function(){return carousel.vars.currentIndex};slides.getCurrentPos=function(){return slides.translate3d().x};slides.getIndexByPosition=function(x){return carousel.anim.getLandingSlideIndex(-x)}}}},{}],4:[function(require,module,exports){(function(global){(function(){"use strict";global.isExplorer=!!document.documentMode;require("./polyfills");var Carousel=require("./carousel");var externalFuncs=require("./external_funcs");var defaults={duration:350,swipe_sensitivity:150,disable_slide:false,disable_clicktoslide:false,disable_scroll:false,start:0,one_item:false,pan_threshold:.3,disable_autowidth:false,parent_width:false,swipe_out:false,left_sided:false};$.fn.itemslide=function(options){var carousel=$.extend(true,{},Carousel);var optionsMergedWithDefaults={};$.extend(optionsMergedWithDefaults,defaults,options);externalFuncs.apply(this,carousel,optionsMergedWithDefaults);carousel.create(optionsMergedWithDefaults,this)}}).call(this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./carousel":2,"./external_funcs":3,"./polyfills":7}],5:[function(require,module,exports){module.exports={add:function(_this,anim,nav,slides){var touchCounter=0,sensetivity=4;slides.mousewheel(function(e){if(!nav.get_vertical_pan()){var isWheel=e.deltaFactor>=100||e.deltaFactor%1==0;if(!isWheel){touchCounter++;if(touchCounter==sensetivity){touchCounter=0;return}}e.preventDefault();var mouseLandingIndex=_this.vars.currentIndex-((e.deltaX==0?e.deltaY:e.deltaX)>0?1:-1);if(mouseLandingIndex>=slides.children("li").length||mouseLandingIndex<0)return;_this.vars.velocity=0;anim.gotoSlideByIndex(mouseLandingIndex)}})}}},{}],6:[function(require,module,exports){var Navigation=function(carousel,anim){var $el=carousel.$el,options=carousel.options,vars=carousel.vars,swipeOut=carousel.swipeOut;this.createEvents=function(){$el.children().on("mousedown touchstart",function(e){touchstart.call(this,e)});$(window).on("mouseup touchend",function(e){touchend(e)})};this.createEvents();var swipeStartTime,isDown,prevent,startPointX,startPointY,vertical_pan=false,horizontal_pan;var verticalSlideFirstTimeCount;this.get_vertical_pan=function(){return vertical_pan};function touchstart(e){if($(e.target).attr("no-drag")==="true"||!$el.end_animation){return}var touch;if(e.type=="touchstart"){touch=getTouch(e)}else{touch=e}swipeStartTime=Date.now();isDown=1;prevent=0;startPointX=touch.pageX;startPointY=touch.pageY;vertical_pan=false;horizontal_pan=false;$el.savedSlide=$(this);$el.savedSlideIndex=$el.savedSlide.index();verticalSlideFirstTimeCount=0;window.addEventListener("mousemove",mousemove,{passive:false});window.addEventListener("touchmove",mousemove,{passive:false});clearSelections()}var savedStartPt,firstTime;function mousemove(e){var touch;if(e.type=="touchmove"){touch=getTouch(e);if(Math.abs(touch.pageX-startPointX)>10){prevent=1}if(prevent){e.preventDefault()}}else{touch=e;if(!options.disable_slide&&!options.swipe_out){e.preventDefault()}}if(-(touch.pageX-startPointX)>0){vars.direction=1}else{vars.direction=-1}if(anim.isOutBoundaries()){if(firstTime){savedStartPt=touch.pageX;firstTime=0}}else{if(!firstTime){anim.currentLandPos=$el.translate3d().x;startPointX=touch.pageX}firstTime=1}if(verticalSlideFirstTimeCount==1){$el.children().css("height",vars.slideHeight);$el.savedSlide.wrapAll("<div class='itemslide_slideoutwrap' />");verticalSlideFirstTimeCount=-1}if(Math.abs(touch.pageX-startPointX)>6){if(!vertical_pan&&$el.end_animation){horizontal_pan=true}window.cancelAnimationFrame(anim.slidesGlobalID)}if(Math.abs(touch.pageY-startPointY)>6){if(!horizontal_pan&&$el.end_animation){vertical_pan=true}}if(horizontal_pan){if(options.disable_slide){return}if(options.left_sided){anim.currentLandPos=clamp(-(vars.allSlidesWidth-$el.parent().width()),0,anim.currentLandPos)}vertical_pan=false;$el.translate3d((firstTime==0?savedStartPt-startPointX+(touch.pageX-savedStartPt)/4:touch.pageX-startPointX)+anim.currentLandPos);$el.trigger("changePos");$el.trigger("pan")}else if(vertical_pan&&options.swipe_out){e.preventDefault();$(".itemslide_slideoutwrap").translate3d(0,touch.pageY-startPointY);if(verticalSlideFirstTimeCount!=-1){verticalSlideFirstTimeCount=1}}}function touchend(e){if(isDown){isDown=false;var touch;if(e.type=="touchend"){touch=getTouch(e)}else{touch=e}window.removeEventListener("mousemove",mousemove);window.removeEventListener("touchmove",mousemove);if(vertical_pan&&options.swipe_out){vertical_pan=false;swipeOut();return}else if($el.end_animation&&!options.disable_slide){var deltaTime=Date.now()-swipeStartTime;deltaTime++;vars.velocity=-(touch.pageX-startPointX)/deltaTime;if(vars.velocity>0){vars.direction=1}else{vars.direction=-1}vars.distanceFromStart=(touch.pageX-startPointX)*vars.direction*-1;var landingSlideIndex=anim.getLandingSlideIndex(vars.velocity*options.swipe_sensitivity-$el.translate3d().x);if(vars.distanceFromStart>6){anim.gotoSlideByIndex(landingSlideIndex);return}}$el.trigger({type:"clickSlide",slide:$el.savedSlideIndex});if($el.savedSlideIndex!=vars.currentIndex&&!options.disable_clicktoslide){e.preventDefault();anim.gotoSlideByIndex($el.savedSlideIndex)}}}};function clearSelections(){if(window.getSelection){if(window.getSelection().empty){window.getSelection().empty()}else if(window.getSelection().removeAllRanges){window.getSelection().removeAllRanges()}}else if(document.selection){document.selection.empty()}}function getTouch(e){if(e.type=="touchmove"){return e.changedTouches[0]}return e.originalEvent.touches[0]||e.originalEvent.changedTouches[0]}module.exports=Navigation},{}],7:[function(require,module,exports){if(typeof Object.create!=="function"){Object.create=function(obj){function F(){}F.prototype=obj;return new F}}if(!$.fn.outerWidth){$.fn.outerWidth=function(){if($(this)[0]instanceof Element){var el=$(this)[0];var width=el.offsetWidth;var style=getComputedStyle(el);width+=parseInt(style.marginLeft)+parseInt(style.marginRight);return width}}}},{}],8:[function(require,module,exports){module.exports={slideout:slideout};function slideout(_this){var slides=_this.$el;var settings=_this.options;var vars=_this.vars;var swipeOutLandPos=-400,swipeOutStartTime=Date.now(),currentSwipeOutPos=0,swipeOutGlobalID=0;var durationSave=0,savedOpacity=0,prev;var swipeDirection;slides.end_animation=true;slides.savedSlideIndex=0;var goback=false;_this.swipeOut=function(){currentSwipeOutPos=$(".itemslide_slideoutwrap").translate3d().y;swipeDirection=currentSwipeOutPos<0;if(!swipeDirection)swipeOutLandPos=400;else swipeOutLandPos=-400;if(Math.abs(0-currentSwipeOutPos)<50){goback=true;swipeOutLandPos=0}else{goback=false;slides.trigger({type:"swipeout",slide:slides.savedSlideIndex})}removeWrapper=0;durationSave=settings.duration;prev=slides.savedSlide;swipeOutStartTime=Date.now();savedOpacity=slides.savedSlide.css("opacity");if(slides.savedSlideIndex<vars.currentIndex){before=true;slides.children(":nth-child(-n+"+(slides.savedSlideIndex+1)+")").wrapAll("<div class='itemslide_move' />")}else{before=false;slides.children(":nth-child(n+"+(slides.savedSlideIndex+2)+")").wrapAll("<div class='itemslide_move' />")}enableOpacity=true;slides.end_animation=false;swipeOutGlobalID=requestAnimationFrame(swipeOutAnimation)};var enableOpacity=true,currentTime=0;var removeWrapper=0;var before=false;var itemslideMove=".itemslide_move";function swipeOutAnimation(){currentTime=Date.now()-swipeOutStartTime;if(enableOpacity){$(".itemslide_slideoutwrap").translate3d(0,currentSwipeOutPos-easeOutBack(currentTime,0,currentSwipeOutPos-swipeOutLandPos,250,0));slides.savedSlide.css("opacity",savedOpacity-easeOutBack(currentTime,0,savedOpacity,250,0)*(goback?-1:1))}else{if(goback){$(".itemslide_slideoutwrap").children().unwrap();$(itemslideMove).children().unwrap();slides.children().css("height","");slides.end_animation=true;currentTime=0;return}$(itemslideMove).translate3d(0-easeOutBack(currentTime-250,0,0+slides.savedSlide.width(),125,0)*(before?-1:1),0)}if(removeWrapper==1){$(".itemslide_slideoutwrap").children().unwrap();if(slides.savedSlideIndex==vars.currentIndex)$(itemslideMove).children(":nth-child("+1+")").addClass("itemslide-active");if(slides.savedSlideIndex==slides.children().length-1&&!before&&slides.savedSlideIndex==vars.currentIndex){settings.duration=200;_this.anim.gotoSlideByIndex(slides.children().length-2)}if(slides.savedSlideIndex==0&&vars.currentIndex!=0){currentTime=500}removeWrapper=-1}if(currentTime>=250){enableOpacity=false;if(removeWrapper!=-1)removeWrapper=1;if(currentTime>=375){$(itemslideMove).children().unwrap();slides.removeSlide(prev.index());if(slides.savedSlideIndex==0&&vars.currentIndex!=0||before){_this.anim.gotoSlideByIndex(vars.currentIndex-1,true)}settings.duration=durationSave;currentTime=0;slides.end_animation=true;return}}swipeOutGlobalID=requestAnimationFrame(swipeOutAnimation)}}},{}]},{},[4]);
