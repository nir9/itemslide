!function(a){function b(a,b,c){function d(){if(q=Date.now()-j,p)h.translate3d(0,k-h._easeOutBack(q,0,k-i,250,0),$(".itemslide_slideoutwrap")),a.savedSlide.css("opacity",n-h._easeOutBack(q,0,n,250,0)*(o?-1:1));else{if(o)return $(".itemslide_slideoutwrap").children().unwrap(),$(".itemslide_move").children().unwrap(),f&&a.children().css("height",""),a.end_animation=!0,void(q=0);h.translate3d(0-h._easeOutBack(q-250,0,0+a.savedSlide.width(),125,0)*(s?-1:1),$(".itemslide_move"))}return 1==r&&($(".itemslide_slideoutwrap").children().unwrap(),a.savedSlideIndex==c.currentIndex&&$(".itemslide_move").children(":nth-child(1)").addClass(c.active_class),a.savedSlideIndex!=a.children().length-1||s||a.savedSlideIndex!=c.currentIndex||(b.duration=200,h.gotoSlide(a.children().length-2)),0==a.savedSlideIndex&&0!=c.currentIndex&&(q=500),r=-1),q>=250&&(p=!1,-1!=r&&(r=1),q>=375)?($(".itemslide_move").children().unwrap(),h.removeSlide(e.index()),(0==a.savedSlideIndex&&0!=c.currentIndex||s)&&h.gotoWithoutAnimation(c.currentIndex-1),b.duration=m,q=0,void(a.end_animation=!0)):void(l=requestAnimationFrame(d))}var e,g,h=this,i=-400,j=Date.now(),k=0,l=0,m=0,n=0;a.end_animation=!0;var o=!1;h.swipeOut=function(){k=h.translate3d(null,null,$(".itemslide_slideoutwrap")).y,g=0>k,i=g?-400:400,Math.abs(0-k)<50?(o=!0,i=0):(o=!1,a.trigger({type:"swipeout",slide:a.savedSlideIndex})),r=0,m=b.duration,e=a.savedSlide,j=Date.now(),n=a.savedSlide.css("opacity"),a.savedSlideIndex<c.currentIndex?(s=!0,a.children(":nth-child(-n+"+(a.savedSlideIndex+1)+")").wrapAll("<div class='itemslide_move' />")):(s=!1,a.children(":nth-child(n+"+(a.savedSlideIndex+2)+")").wrapAll("<div class='itemslide_move' />")),p=!0,a.end_animation=!1,l=requestAnimationFrame(d)};var p=!0,q=0,r=0,s=!1}for(var c=0,d=["ms","moz","webkit","o"],e=0;e<d.length&&!a.requestAnimationFrame;++e)a.requestAnimationFrame=a[d[e]+"RequestAnimationFrame"],a.cancelAnimationFrame=a[d[e]+"CancelAnimationFrame"]||a[d[e]+"CancelRequestAnimationFrame"];a.requestAnimationFrame||(a.requestAnimationFrame=function(b){var d=(new Date).getTime(),e=Math.max(0,16-(d-c)),f=a.setTimeout(function(){b(d+e)},e);return c=d+e,f}),a.cancelAnimationFrame||(a.cancelAnimationFrame=function(a){clearTimeout(a)}),"function"!=typeof Object.create&&(Object.create=function(a){function b(){}return b.prototype=a,new b});var f=!!document.documentMode,g={init:function(b,c){var d=this;this.$el=$(c),this.options=$.extend({},$.fn.itemslide.options,b),this.userOptions=b,this.options.parent_width&&this.$el.children().width(this.$el.parent().outerWidth(!0)),this.$el.css({"touch-action":"pan-y","-webkit-user-select":"none","-webkit-touch-callout":"none","-webkit-user-drag":"none","-webkit-tap-highlight-color":"rgba(0, 0, 0, 0)"}),this.options.disable_autowidth||this.$el.css("width",this.$el.children("li").length*this.$el.children().outerWidth(!0)+10),this.vars={currentIndex:0,disable_autowidth:this.options.disable_autowidth,parent_width:this.options.parent_width,velocity:0,slideHeight:this.$el.children().height(),active_class:"itemslide-active",direction:0,isBoundary:!1,distanceFromStart:0,currentPos:0,slidesGlobalID:0,total_back:0,touch:!1,startPointX:0,startPointY:0,vertical_pan:!1,horizontal_pan:!1,firstTime:1,savedStartPt:0,verticalSlideFirstTimeCount:0,total_duration:this.options.duration,isDown:!1,prevent:!1,swipeStartTime:0,noDrag:!1},this.$el.end_animation=!0,this.options.swipe_out&&$.fn.itemslide.slideout.call(this,this.$el,this.options,this.vars),this.translate3d(0),this.gotoSlideByIndex(this.options.start),this.$el.savedSlideIndex=0,this.$el.on("mousedown touchstart","li",function(a){d.touchstart.call(this,a,d)}),$(a).on("mouseup touchend",function(a){d.touchend.call(this,a,d)});try{this.$el.mousewheel(function(a){if(!d.options.disable_scroll&&!d.vars.vertical_pan){a.preventDefault();var b=d.vars.currentIndex-((0==a.deltaX?a.deltaY:a.deltaX)>0?1:-1);if(b>=d.$el.children("li").length||0>b)return;d.vars.velocity=0,d.gotoSlideByIndex(b)}})}catch(e){}},gotoSlideByIndex:function(b){var c,d=this.vars,e=this.options,f=this.$el.parent().outerWidth(!0),g=0;$.each(Array.prototype.reverse.call(this.$el.children("li")),function(a,b){return f-=b.offsetWidth,0>=f?(g=a,!1):void 0}),c="center"===this.options.align?this.$el.children("li").length-1:this.$el.children("li").length-g,b>=c||0>=b?(d.isBoundary=!0,b=Math.min(Math.max(b,0),c)):d.isBoundary=!1,this.changeActiveSlideTo(b),d.total_duration=Math.max(e.duration-1920/$(a).width()*Math.abs(d.velocity)*9*(e.duration/230)-(this.isOutBoundaries()?d.distanceFromStart/15:0)*(e.duration/230),50),d.total_back=d.isBoundary?250*Math.abs(d.velocity)/$(a).width():0,d.currentPos=this.translate3d().x,this.$el.currentLandPos=this.getPositionByIndex(b),a.cancelAnimationFrame(d.slidesGlobalID),d.startTime=Date.now(),d.slidesGlobalID=a.requestAnimationFrame(this.animationRepeat.bind(this))},changeActiveSlideTo:function(a){var b=this.options,c=this.vars;this.$el.children(":nth-child("+(c.currentIndex+1||0)+")").removeClass(c.active_class),this.$el.children(":nth-child("+(a+1||0)+")").addClass(c.active_class),a!=b.currentIndex&&(c.currentIndex=a,this.$el.trigger("changeActiveIndex"))},getLandingSlideIndex:function(a){for(var b=this.$el,c=this.options,d=this.vars,e=0;e<b.children("li").length;e++)if(b.children().outerWidth(!0)*e+b.children().outerWidth(!0)/2-b.children().outerWidth(!0)*c.pan_threshold*d.direction-this.getPositionByIndex(0)>a)return c.one_item?e!=d.currentIndex?d.currentIndex+d.direction:d.currentIndex:e;return c.one_item?d.currentIndex+1:b.children("li").length-1},getPositionByIndex:function(a){return"center"===this.options.align?-(a*this.$el.children().outerWidth(!0)-(this.$el.parent().outerWidth(!0)-this.$el.children().outerWidth(!0))/2):-a*this.$el.children().outerWidth(!0)},isOutBoundariesLeft:function(){return Math.floor(this.translate3d().x)>this.getPositionByIndex(0)&&-1==this.vars.direction},isOutBoundariesRight:function(){var a,b,c=this.$el.children("li").length-1,d=this.$el.parent().outerWidth(!0),e=this.$el.children("li").first().outerWidth(!0),f=Math.floor(d/e),g=this.$el.parent().outerWidth(!0)-f*e;return"center"===this.options.align?(a=Math.ceil(this.translate3d().x),b=this.getPositionByIndex(this.$el.children("li").length-1)):(a=Math.abs(this.getPositionByIndex(c))+this.$el.children("li").last().outerWidth(!0)+g,b=Math.floor(this.$el.parent().outerWidth(!0)-this.translate3d().x)),b>a&&1==this.vars.direction},isOutBoundaries:function(){return this.isOutBoundariesLeft()||this.isOutBoundariesRight()},touchstart:function(b,c){var d=c.vars;return"true"===$(b.target).attr("no-drag")?void(d.noDrag=!0):(d.noDrag=!1,d.touch="touchstart"==b.type?null==$.fn.jquery?b.changedTouches[0]:b.originalEvent.touches[0]||b.originalEvent.changedTouches[0]:b,void(c.$el.end_animation&&(d.swipeStartTime=Date.now(),d.isDown=1,d.prevent=0,d.startPointX=d.touch.pageX,d.startPointY=d.touch.pageY,d.vertical_pan=!1,d.horizontal_pan=!1,c.$el.savedSlide=$(this),c.$el.savedSlideIndex=c.$el.savedSlide.index(),d.verticalSlideFirstTimeCount=0,$(a).on("mousemove touchmove",function(a){c.mousemove.call(this,a,c)}),a.getSelection?a.getSelection().empty?a.getSelection().empty():a.getSelection().removeAllRanges&&a.getSelection().removeAllRanges():document.selection&&document.selection.empty())))},touchend:function(b,c){var d=c,e=d.vars,f=d.options;if(!e.noDrag&&e.isDown){if(e.touch="touchend"==b.type?null==$.fn.jquery?b.changedTouches[0]:b.originalEvent.touches[0]||b.originalEvent.changedTouches[0]:b,e.isDown=!1,$(a).off("mousemove touchmove"),e.vertical_pan&&f.swipe_out)return e.vertical_pan=!1,void d.swipeOut();if(d.$el.end_animation&&!f.disable_slide){var g=Date.now()-e.swipeStartTime;e.velocity=-(d.vars.touch.pageX-e.startPointX)/g,e.direction=e.velocity>0?1:-1,e.distanceFromStart=(d.vars.touch.pageX-e.startPointX)*e.direction*-1;var h=d.getLandingSlideIndex(e.velocity*f.swipe_sensitivity-d.translate3d().x);if(e.distanceFromStart>6)return void d.gotoSlideByIndex(h)}d.$el.savedSlide.index()==e.currentIndex||f.disable_clicktoslide||(b.preventDefault(),d.gotoSlideByIndex(d.$el.savedSlide.index()))}},mousemove:function(b,c){var d=c,e=d.vars,g=d.options;if(!e.noDrag)if("touchmove"==b.type?(e.touch=null==$.fn.jquery?b.changedTouches[0]:b.originalEvent.touches[0]||b.originalEvent.changedTouches[0],Math.abs(e.touch.pageX-e.startPointX)>10&&(e.prevent=1),e.prevent&&b.preventDefault()):(e.touch=b,g.disable_slide||g.swipe_out||b.preventDefault()),e.direction=-(e.touch.pageX-e.startPointX)>0?1:-1,d.isOutBoundaries()?e.firstTime&&(e.savedStartPt=e.touch.pageX,e.firstTime=0):(e.firstTime||(d.$el.currentLandPos=d.translate3d().x,e.startPointX=e.touch.pageX),e.firstTime=1),1==e.verticalSlideFirstTimeCount&&(f&&d.$el.children().css("height",e.slideHeight),d.$el.savedSlide.wrapAll("<div class='itemslide_slideoutwrap' />"),e.verticalSlideFirstTimeCount=-1),Math.abs(e.touch.pageX-e.startPointX)>6&&(!e.vertical_pan&&d.$el.end_animation&&(e.horizontal_pan=!0),a.cancelAnimationFrame(e.slidesGlobalID)),Math.abs(e.touch.pageY-e.startPointY)>6&&!e.horizontal_pan&&d.$el.end_animation&&(e.vertical_pan=!0),e.horizontal_pan){if(g.disable_slide)return;e.vertical_pan=!1,d.translate3d((0==e.firstTime?e.savedStartPt-e.startPointX+(e.touch.pageX-e.savedStartPt)/4:e.touch.pageX-e.startPointX)+d.$el.currentLandPos),d.$el.trigger("changePos"),d.$el.trigger("pan")}else e.vertical_pan&&g.swipe_out&&(b.preventDefault(),d.translate3d(0,e.touch.pageY-e.startPointY,$(".itemslide_slideoutwrap")),-1!=e.verticalSlideFirstTimeCount&&(e.verticalSlideFirstTimeCount=1))},translate3d:function(a,b,c){var d=c?$(c):""||this.$el;if(null==a){var e=this._matrixToArray(d.css("transform"));if(null!=$.fn.jquery)return{x:parseFloat(f?e[12]:e[4]),y:parseFloat(f?e[13]:e[5])};var g=this.css("transform").replace("translate3d","").replace("(","").replace(")","").replace(" ","").replace("px","").split(",");return{x:parseFloat(g[0]),y:parseFloat(g[1])}}d.css("transform","translate3d("+a+"px,"+(b||0)+"px, 0px)")},gotoWithoutAnimation:function(a){this.changeActiveSlideTo(a),this.vars.currentIndex=a,this.$el.currentLandPos=this.getPositionByIndex(a),this.translate3d(this.getPositionByIndex(a))},animationRepeat:function(){var b=this,c=this.vars,d=Date.now()-c.startTime;return this.$el.trigger("changePos"),this.translate3d(c.currentPos-this._easeOutBack(d,0,c.currentPos-this.$el.currentLandPos,c.total_duration,c.total_back)),d>=c.total_duration?void this.translate3d(this.$el.currentLandPos):void(c.slidesGlobalID=a.requestAnimationFrame(function(){b.animationRepeat.call(b)}))},_matrixToArray:function(a){return a.substr(7,a.length-8).split(", ")},_easeOutBack:function(a,b,c,d,e){return void 0==e&&(e=1.70158),c*((a=a/d-1)*a*((e+1)*a+e)+1)+b},gotoSlide:function(a){this.gotoSlideByIndex(a)},next:function(){this.gotoSlideByIndex(this.vars.currentIndex+1)},previous:function(){this.gotoSlideByIndex(this.vars.currentIndex-1)},reload:function(){var a=this.$el,b=this.vars;b.parent_width&&a.children().width(a.parent().outerWidth(!0)),b.disable_autowidth||a.css("width",a.children("li").length*a.children().outerWidth(!0)+10),b.slideHeight=a.children().height(),b.velocity=0,this.gotoWithoutAnimation(b.currentIndex)},destroy:function(){var b=this.$el,c=this.vars;b.off("mousedown touchstart","li"),$(a).off("mousemove touchmove"),$(a).off("mouseup touchend"),b.children().removeClass(c.active_class),b.removeAttr("style")},addSlide:function(a){this.$el.children("li").last().append("<li>"+a+"</li>"),this.reload()},removeSlide:function(a){this.$el.children(":nth-child("+(a+1||0)+")").remove()},getActiveIndex:function(){return this.vars.currentIndex},getCurrentPos:function(){return this.translate3d().x}};$.fn.itemslide=function(a){var b=Object.create(g);return b.init(a,this),$.data(this,"itemslide",b),b},$.fn.itemslide.options={duration:350,swipe_sensitivity:150,disable_slide:!1,disable_clicktoslide:!0,disable_scroll:!1,start:0,one_item:!1,pan_threshold:.3,disable_autowidth:!1,parent_width:!1,swipe_out:!1,align:"center"};var f=!!document.documentMode;if(!$.fn.itemslide)throw new Error("itemslide not defined. Impossible to use slideout without itemslide");$.fn.itemslide.slideout=b}(window);